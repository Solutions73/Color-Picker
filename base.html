<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>
      <canvas
        id="myCanvas"
        width="400px"
        height="400px"
        style="border: 1px solid #000000"
      >
      </canvas>
    </div>
    <div>
      <p id="red"></p>
      <p id="green"></p>
      <p id="blue"></p>
    </div>
    <div>
      <canvas
        id="base"
        width="400px"
        height="50px"
        style="border: 1px solid black"
      ></canvas>
    </div>

    <script>
      window.onload = function(){
        let canvas = document.getElementById("myCanvas");
        let ctx = canvas.getContext("2d");

        let gradientV = ctx.createLinearGradient(0, 0, 400, 0);

        gradientV.addColorStop(0, "#f00");
        gradientV.addColorStop(0.15, "#ff0");
        gradientV.addColorStop(0.33, "#0f0");
        gradientV.addColorStop(0.49, "#0ff");
        gradientV.addColorStop(0.67, "#00f");
        gradientV.addColorStop(0.84, "#f0f");
        gradientV.addColorStop(1, "#f00");

      //   gradientV.addColorStop(0, "rgb(255, 0, 0)");
      //   gradientV.addColorStop(0.15, "rgb(255, 0, 255)");
      //   gradientV.addColorStop(0.33, "rgb(0, 0, 255)");
      //   gradientV.addColorStop(0.49, "rgb(0, 255, 255)");
      //   gradientV.addColorStop(0.67, "rgb(0, 255, 0)");
      //   gradientV.addColorStop(0.84, "rgb(255, 255, 0)");
      //   gradientV.addColorStop(1, "rgb(255, 0, 0)");

        ctx.fillStyle = gradientV;
        ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);

      //   let color = "rgb(0, 0, 225)";
      //   let gradientH = ctx.createLinearGradient(0, 0, ctx.canvas.width, 0);
      //   gradientH.addColorStop(0, "rgba(255, 255, 255, 1)");
      //   gradientH.addColorStop(0.5, "rgba(255, 255, 255, 0)");
      //   gradientH.addColorStop(0.5, "rgba(0, 0, 0, 0)");
      //   gradientH.addColorStop(1, "rgba(0, 0, 0, 1)");

      //   ctx.fillStyle = gradientH;
      //   ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);

        // let canvx = document.getElementById("base");
        // let ctxt = canvas.getContext("2d");

        // let gradientB = ctxt.createLinearGradient(100, 100, 300, 100);

        // gradientB.addColorStop(0, "#f00");
        // gradientB.addColorStop(0.15, "#ff0");
        // gradientB.addColorStop(0.33, "#0f0");
        // gradientB.addColorStop(0.49, "#0ff");
        // gradientB.addColorStop(0.67, "#00f");
        // gradientB.addColorStop(0.84, "#f0f");
        // gradientB.addColorStop(1, "#f00");

        // ctxt.fillStyle = gradientB;
        // ctxt.fillRect(0, 0, ctxt.canvx.width, ctxt.canvx.height);

        canvas.addEventListener("click", function () {
          let x = event.clientX;
          let y = event.clientY;
          pixelz = ctx.getImageData(x, y, 1, 1)["data"];
          rgb = `rgb(${pixelz[0]}, ${pixelz[1]}, ${pixelz[2]})`;
          console.log(typeof rgb);

          document.getElementById("red").innerHTML = "red" + " " + rgb;
          document.getElementById("green").innerHTML = "green" + " " + rgb;
          document.getElementById("blue").innerHTML = "blue" + " " + rgb;
        });
        
    //     function getRGB(str){
    //         var match = str.match(/rgba?\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)?(?:, ?(\d(?:\.\d?))\))?/);
    //         return match ? {
    //           red: match[1],
    //           green: match[2],
    //           blue: match[3]
    //         } : {};
    //       }
          

    //       console.log(getRGB("rgba(211, 0, 211, 0.5)"));

    // Converting Color Spaces in JavaScript
    
//     function RGBToHex(rgb) {
//   // Choose correct separator
//   let sep = rgb.indexOf(",") > -1 ? "," : " ";
//   // Turn "rgb(r,g,b)" into [r,g,b]
//   rgb = rgb.substr(4).split(")")[0].split(sep);

//   let r = (+rgb[0]).toString(16),
//       g = (+rgb[1]).toString(16),
//       b = (+rgb[2]).toString(16);

//   if (r.length == 1)
//     r = "0" + r;
//   if (g.length == 1)
//     g = "0" + g;
//   if (b.length == 1)
//     b = "0" + b;

//   return "#" + r + g + b;
// }

      }

    </script>
  </body>
</html>
